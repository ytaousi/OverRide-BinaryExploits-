int *get_unum(void)
{
  int *arrayOfInt;
  
  arrayOfInt[0] = 0;
  fflush(stdout);
  __isoc99_scanf(&DAT_08048ad0,arrayOfInt);
  clear_stdin();
  return arrayOfInt;
}

int read_number(int param_1)
{
  uint index;
  
  printf(" Index: ");
  index = get_unum();
  printf(" Number at data[%u] is %u\n",index,*(uint *)(index * 4 + param_1));
  return 0;
}

int store_number(int param_1)
{
  uint intVar1;
  uint intVar2;
  uint intVar3;
  
  printf(" Number: ");
  intVar1 = get_unum();
  printf(" Index: ");
  intVar2 = get_unum();
  if ((intVar2 % 3 == 0) || (intVar1 >> 24 == 183))
  {
    puts(" *** ERROR! ***");
    puts("   This index is reserved for wil!");
    puts(" *** ERROR! ***");
    intVar3 = 1;
  }
  else
  {
    *(uint *)(intVar2 * 4 + param_1) = intVar1;
    intVar3 = 0;
  }
  return intVar3;
}

undefined4 main(undefined4 param_1,char **param_2,char **param_3)
{
  char charVariable1;
  int iVar2;
  uint uVar3;
  undefined4 *puVar4;
  char *pcVar5;
  byte *pbVar6;
  int in_GS_OFFSET;
  bool bVar7;
  bool bVar8;
  bool bVar9;
  byte bVar10;
  char **local_1c8;
  char **local_1c4;
  undefined4 local_1bc [100];
  undefined4 local_2c;
  undefined4 arrayHoldingInputCommand;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  int local_14;
  
  bVar10 = 0;
  local_1c4 = param_2;
  local_1c8 = param_3;
  local_14 = *(int *)(in_GS_OFFSET + 0x14);
  local_2c = 0;
  arrayHoldingInputCommand = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_18 = 0;
  puVar4 = local_1bc;

  for (iVar2 = 100; iVar2 != 0; iVar2 = iVar2 + -1)
  {
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
  }
  
  for (; *local_1c4 != (char *)0x0; local_1c4 = local_1c4 + 1)
  {
    uVar3 = 0xffffffff;
    pcVar5 = *local_1c4;
    do
    {
      if (uVar3 == 0)
        break;
      uVar3 = uVar3 - 1;
      charVariable1 = *pcVar5;
      pcVar5 = pcVar5 + (uint)bVar10 * -2 + 1;
    } while (charVariable1 != '\0');
    memset(*local_1c4,0,~uVar3 - 1);
  }

  for (; *local_1c8 != (char *)0x0; local_1c8 = local_1c8 + 1)
  {
    uVar3 = 0xffffffff;
    pcVar5 = *local_1c8;
    do
    {
      if (uVar3 == 0)
        break;
      uVar3 = uVar3 - 1;
      charVariable1 = *pcVar5;
      pcVar5 = pcVar5 + (uint)bVar10 * -2 + 1;
    } while (charVariable1 != '\0');
    memset(*local_1c8,0,~uVar3 - 1);
  }
  
  
//   puts(
//       "----------------------------------------------------\n  Welcome to wil\'s crappy number stora ge service!   \n----------------------------------------------------\n Commands:                                          \n    store - store a number into the data storage    \n    read  - read a number from the data storage     \n    quit  - exit the program                        \n----------------------------------------------------\n   wil has reserved some storage :>                 \n----------------------------------------------------\n"
//       );
  
  
    // We Will break the logic starting from here     < --------------------- 


  do
  {
    printf("Input command: ");
    local_2c = 1;
    fgets((char *)&arrayHoldingInputCommand,0x14,stdin);
    uVar3 = 0xffffffff;
    puVar4 = &arrayHoldingInputCommand;
    
    do
    {
      if (uVar3 == 0)
        break;
      uVar3 = uVar3 - 1;
      charVariable1 = *(char *)puVar4;
      puVar4 = (undefined4 *)((int)puVar4 + (uint)bVar10 * -2 + 1);
    } while (charVariable1 != '\0');
    
    uVar3 = ~uVar3;
    bVar7 = uVar3 == 1;
    bVar9 = uVar3 == 2;
    *(undefined *)((int)&local_2c + uVar3 + 2) = 0;
    iVar2 = 5;
    puVar4 = &arrayHoldingInputCommand;
    pbVar6 = (byte *)"store";
    do
    {
      if (iVar2 == 0)
        break;
      iVar2 = iVar2 + -1;
      bVar7 = *(byte *)puVar4 < *pbVar6;
      bVar9 = *(byte *)puVar4 == *pbVar6;
      puVar4 = (undefined4 *)((int)puVar4 + (uint)bVar10 * -2 + 1);
      pbVar6 = pbVar6 + (uint)bVar10 * -2 + 1;
    } while (bVar9);
    
    bVar8 = false;
    bVar7 = (!bVar7 && !bVar9) == bVar7;
    
    if (bVar7)
      local_2c = store_number((int)local_1bc);
    else
    {
      iVar2 = 4;
      puVar4 = &arrayHoldingInputCommand;
      pbVar6 = &DAT_08048d61;
      do
      {
        if (iVar2 == 0)
            break;
        iVar2 = iVar2 + -1;
        bVar8 = *(byte *)puVar4 < *pbVar6;
        bVar7 = *(byte *)puVar4 == *pbVar6;
        puVar4 = (undefined4 *)((int)puVar4 + (uint)bVar10 * -2 + 1);
        pbVar6 = pbVar6 + (uint)bVar10 * -2 + 1;
      } while (bVar7);
      bVar9 = false;
      bVar7 = (!bVar8 && !bVar7) == bVar8;
      if (bVar7)
        local_2c = read_number((int)local_1bc);
      else
      {
        iVar2 = 4;
        puVar4 = &arrayHoldingInputCommand;
        pbVar6 = &DAT_08048d66;
        do
        {
          if (iVar2 == 0)
            break;
          iVar2 = iVar2 + -1;
          bVar9 = *(byte *)puVar4 < *pbVar6;
          bVar7 = *(byte *)puVar4 == *pbVar6;
          puVar4 = (undefined4 *)((int)puVar4 + (uint)bVar10 * -2 + 1);
          pbVar6 = pbVar6 + (uint)bVar10 * -2 + 1;
        } while (bVar7);
        
        // this part is about the canary stack value check
        if ((!bVar9 && !bVar7) == bVar9)
        {
          if (local_14 == *(int *)(in_GS_OFFSET + 0x14))
            return 0;
          __stack_chk_fail(); /* WARNING: Subroutine does not return */
        }
      }
    }
    
    if (local_2c == 0)
      printf(" Completed %s command successfully\n",(char *)&arrayHoldingInputCommand);
    else
      printf(" Failed to do %s command\n",(char *)&arrayHoldingInputCommand);
    
    
    
    
    arrayHoldingInputCommand = 0;
    local_24 = 0;
    local_20 = 0;
    local_1c = 0;
    local_18 = 0;
  } while( true );
}